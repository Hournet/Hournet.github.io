<!-- <!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Кредитная карта</title>
    <style>
      body {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }
      .credit-card {
        width: 328px;
        height: 208px;
        border-radius: 10px;
        background: hsla(192, 80%, 51%, 1);
        background: linear-gradient(
          90deg,
          hsla(192, 80%, 51%, 1) 0%,
          hsla(355, 85%, 63%, 1) 100%
        );
        filter: progid: DXImageTransform.Microsoft.gradient( startColorstr="#1DBDE6", endColorstr="#F1515E", GradientType=1 );
      }
    </style>
  </head>
  <body>
    <div class="credit-card"></div>
    <script>
      window.addEventListener("deviceorientation", function (event) {
        var x = event.beta; // In degree in the range [-180,180]
        var y = event.gamma; // In degree in the range [-90,90]
        var card = document.querySelector(".credit-card");
        card.style.transform =
          "translate(" +
          Math.min(Math.max(y, -20), 20) +
          "px," +
          Math.min(Math.max(x, -20), 20) +
          "px)";
        var beta = document.getElementById("beta");
        beta.innerHTML = Math.round(x);
        var gamma = document.getElementById("gamma");
        gamma.innerHTML = Math.round(y);
      });
    </script>
    <p>Beta: <span id="beta"></span></p>
    <p>Gamma: <span id="gamma"></span></p>
  </body>
</html> -->

<!-- <!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Кредитная карта</title>
    <style>
        body{
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }
      .credit-card {
        width: 328px;
        height: 208px;
        border-radius: 10px;
        background: hsla(192, 80%, 51%, 1);
        background: linear-gradient(
          90deg,
          hsla(192, 80%, 51%, 1) 0%,
          hsla(355, 85%, 63%, 1) 100%
        );
        filter: progid: DXImageTransform.Microsoft.gradient( startColorstr="#1DBDE6", endColorstr="#F1515E", GradientType=1 );
      }
    </style>
  </head>
  <body>
      <div class="container">
    <div class="credit-card"></div>
    </div>
    <script>
      window.addEventListener('deviceorientation', function(event) { 
        var x = event.beta; // In degree in the range [-180,180] 
        var y = event.gamma; // In degree in the range [-90,90]
        var card = document.querySelector('.credit-card'); 
        card.style.transform = 'translate(' + Math.min(Math.max(y, -20), 20) + 'px,' + Math.min(Math.max(x, -20), 20) + 'px)';
        var beta = document.getElementById('beta'); 
        beta.innerHTML = Math.round(x); 
        var gamma = document.getElementById('gamma'); 
        gamma.innerHTML = Math.round(y); });
    </script>
    <p>Beta: <span id="beta"></span></p>
    <p>Gamma: <span id="gamma"></span></p>
  </body>
</html> -->

<!-- <!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 99vh;
      }
      .card {
        position: relative;
        width: 624px;
        height: 984px;
        border-radius: 50px;
        background: hsla(192, 80%, 51%, 1);
        background: linear-gradient(
          90deg,
          hsla(192, 80%, 51%, 1) 0%,
          hsla(355, 85%, 63%, 1) 100%
        );
        filter: progid: DXImageTransform.Microsoft.gradient( startColorstr="#1DBDE6", endColorstr="#F1515E", GradientType=1 );
        transition: 0.5s;
      }

      .axis-values {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-weight: bold;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="card" id="card">
      <div class="axis-values" id="axisValues"></div>
    </div>
    <div class="blur-card"></div>

    <script>
      document.addEventListener("DOMContentLoaded", ready);

      var card = document.getElementById("card");
      var axisValues = document.getElementById("axisValues");
      var blurCard = document.querySelector(".blur-card");
      var hcardW = card.offsetWidth / 2;
      var hcardH = card.offsetHeight / 2;
      var maxXOff = 40;
      var maxYOff = 40;

      function ready() {
        animate(card, blurCard);
      }

      function animate(card, blurCard) {
        if (window.DeviceMotionEvent) {
          window.ondevicemotion = function (event) {
            var accelerationX = event.accelerationIncludingGravity.x;
            var accelerationY = event.accelerationIncludingGravity.y;
            var xOff = clamp(-accelerationX * 20, -maxXOff, maxXOff);
            var yOff = map(accelerationY, -20, 0, maxYOff, -maxYOff);
            animateMobile(card, blurCard, xOff, yOff);
            displayAxisValues(accelerationX, accelerationY);
          };
        }

        // card.addEventListener("mouseleave", function () {
        //   setTimeout(() => {
        //     card.style.transition = "0.5s";
        //     card.style.transform = "translateX(0px) translateY(0px)";
        //     blurCard.style.transition = "0.5s";
        //     blurCard.style.transform = "translateX(0px) translateY(0px)";
        //   }, 500);
        // });
      }

      function animateMobile(card, blurCard, xOff, yOff) {
        card.style.transition = "";
        card.style.transform =
          "translateX(" + xOff + "px) translateY(" + -yOff + "px)";
        // blurCard.style.transition = "";
        // blurCard.style.transform =
        //   "translateX(" + -xOff + "px) translateY(" + yOff + "px)";
      }

      function displayAxisValues(accelerationX, accelerationY) {
        axisValues.textContent =
          "Acceleration X: " +
          accelerationX.toFixed(2) +
          ", Acceleration Y: " +
          accelerationY.toFixed(2);
      }

      function clamp(value, min, max) {
        return Math.max(min, Math.min(value, max));
      }

      function map(value, fromSource, toSource, fromTarget, toTarget) {
        return (
          ((value - fromSource) / (toSource - fromSource)) *
            (toTarget - fromTarget) +
          fromTarget
        );
      }
    </script>
  </body>
</html> -->




<!-- V3 -->

<!DOCTYPE html>
<html>
  <head>
    <style>
      body {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 99vh;
      }
      .card {
        position: relative;
        width: 624px;
        height: 984px;
        border-radius: 10px;
        background: hsla(192, 80%, 51%, 1);
        background: linear-gradient(
          90deg,
          hsla(192, 80%, 51%, 1) 0%,
          hsla(355, 85%, 63%, 1) 100%
        );
        filter: progid: DXImageTransform.Microsoft.gradient( startColorstr="#1DBDE6", endColorstr="#F1515E", GradientType=1 );
        transition: 0.5s;
      }

      .axis-values {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        color: white;
        font-weight: bold;
        font-size: 14px;
      }
    </style>
  </head>
  <body>
    <div class="card" id="card">
      <div class="axis-values" id="axisValues"></div>
    </div>
    <div class="blur-card"></div>

    <script>
      document.addEventListener("DOMContentLoaded", ready);

      var card = document.getElementById("card");
      var axisValues = document.getElementById("axisValues");
      var blurCard = document.querySelector(".blur-card");
      var hcardW = card.offsetWidth / 2;
      var hcardH = card.offsetHeight / 2;
      var maxXOff = 40;
      var maxYOff = 40;

      function ready() {
        animate(card, blurCard);
      }

      function animate(card, blurCard) {
        if (window.DeviceMotionEvent) {
          window.ondevicemotion = function (event) {
            var accelerationX = event.accelerationIncludingGravity.x;
            var accelerationY = event.accelerationIncludingGravity.y;
            var xOff = clamp(-accelerationX * 8, -maxXOff, maxXOff);
            var yOff = map(accelerationY, -9, 0, maxYOff, -maxYOff);
            animateMobile(card, blurCard, xOff, yOff);
            displayAxisValues(accelerationX, accelerationY);
          };
        }

        card.addEventListener("mouseleave", function () {
          setTimeout(() => {
            card.style.transition = "0.5s";
            card.style.transform = "translateX(0px) translateY(0px)";
            blurCard.style.transition = "0.5s";
            blurCard.style.transform = "translateX(0px) translateY(0px)";
          }, 500);
        });
      }

      function animateMobile(card, blurCard, xOff, yOff) {
        card.style.transition = "";
        card.style.transform =
          "translateX(" + xOff + "px) translateY(" + -yOff + "px)";
        blurCard.style.transition = "";
        blurCard.style.transform =
          "translateX(" + -xOff + "px) translateY(" + yOff + "px)";
      }

      function displayAxisValues(accelerationX, accelerationY) {
        axisValues.textContent =
          "Acceleration X: " +
          accelerationX.toFixed(2) +
          ", Acceleration Y: " +
          accelerationY.toFixed(2);
      }

      function clamp(value, min, max) {
        return Math.max(min, Math.min(value, max));
      }

      function map(value, fromSource, toSource, fromTarget, toTarget) {
        return (
          ((value - fromSource) / (toSource - fromSource)) *
            (toTarget - fromTarget) +
          fromTarget
        );
      }
    </script>
  </body>
</html>
